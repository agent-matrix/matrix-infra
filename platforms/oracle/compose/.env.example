# Example environment file for the Agent-Matrix Docker Compose deployment.
# Copy this file to `.env` and fill in real values before running deployment.
#
# Quick setup:
#   cp .env.example .env
#   # Edit .env and set ADMIN_TOKEN and LLM provider keys
#   docker compose up -d
#
# For production secrets generation, run from project root:
#   ./scripts/generate-secrets.sh >> platforms/oracle/compose/.env

# ============================================================
# MATRIX HUB CONFIGURATION
# ============================================================
# Where is the production Matrix Hub API?  Use the base URL without a trailing slash.
# Options:
#   - Use public hub: https://hub.agent-matrix.com
#   - Deploy your own Matrix Hub and point to it
MATRIXHUB_API_BASE=https://hub.agent-matrix.com

# ============================================================
# SERVICE COMMUNICATION
# ============================================================
# Internal URLs used by the services to talk to each other.
# For single-VM deployment (default): use container names
# For distributed deployment: update these to actual service URLs
# For Cloudflare Tunnels: use the tunnel URLs
MATRIX_AI_BASE=http://matrix-ai:7860
MATRIX_GUARDIAN_BASE=http://matrix-guardian:8001

# ============================================================
# LLM PROVIDER CONFIGURATION
# ============================================================
# Provider cascade order. First available provider will be used.
# Options: ollama, groq, gemini, huggingface, openai, anthropic
# For local development: use 'ollama' (no API key needed)
# For production: use 'groq,gemini,ollama' or similar
PROVIDER_ORDER=ollama

# --- Ollama (Local LLM - Recommended for testing) ---
OLLAMA_HOST=http://ollama:11434
OLLAMA_MODEL=llama3

# --- Groq (Fast inference, free tier available) ---
# Get API key from: https://console.groq.com/
GROQ_API_KEY=
GROQ_MODEL=llama3-70b-8192

# --- Google Gemini (Good for production) ---
# Get API key from: https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=
GEMINI_MODEL=gemini-pro

# --- HuggingFace (Open models) ---
# Get token from: https://huggingface.co/settings/tokens
HF_TOKEN=
HF_MODEL=mistralai/Mistral-7B-Instruct-v0.2

# ============================================================
# AUTHENTICATION & SECURITY
# ============================================================
# CRITICAL: Change these values for production!
# Generate secure values with: ../../../scripts/generate-secrets.sh

# Shared admin token for inter-service authentication
# Generate with: openssl rand -hex 32
ADMIN_TOKEN=changeme-replace-with-secure-token

# Compatibility aliases for hardened Matrix-Hub:
# - Use MATRIX_HUB_TOKEN for operator CLI/SDK tooling
# - Use HUB_API_TOKEN for matrix-hub-admin server-side proxy routes
# - Matrix-Hub itself expects API_TOKEN for protected endpoints
MATRIX_HUB_TOKEN=${ADMIN_TOKEN}
HUB_API_TOKEN=${ADMIN_TOKEN}
API_TOKEN=${ADMIN_TOKEN}

# When running Matrix-Hub in production, set:
# MATRIX_ENV=production
MATRIX_ENV=production

# ============================================================
# DATABASE CONFIGURATION
# ============================================================
# Matrix Guardian database settings
# For development: SQLite (default)
# For production: PostgreSQL recommended
GUARDIAN_DATABASE_URL=sqlite:///data/guardian.db

# Example PostgreSQL connection:
# GUARDIAN_DATABASE_URL=postgresql://user:password@postgres:5432/guardian

# ============================================================
# AUTOPILOT SETTINGS (Optional)
# ============================================================
# Enable autonomous operations in Matrix Guardian
# WARNING: Only enable in controlled environments
AUTOPILOT_ENABLED=false
AUTOPILOT_INTERVAL_SEC=3600

# ============================================================
# CLOUDFLARE TUNNEL CONFIGURATION (Optional)
# ============================================================
# Set these when exposing services via Cloudflare Tunnels
# See: https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/
CF_MATRIX_AI_HOSTNAME=
CF_MATRIX_GUARDIAN_HOSTNAME=

# ============================================================
# MCP GATEWAY (Optional)
# ============================================================
# MCP Gateway token for registering MCP servers with Matrix Hub
# Generate with: openssl rand -hex 32
MCP_GATEWAY_TOKEN=

# ============================================================
# ADVANCED SETTINGS
# ============================================================
# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Additional LLM providers (if needed)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
WATSONX_API_KEY=
